{"version":3,"sources":["components/Publication/Publication.js","components/Counter/Counter.js","components/Controls/Controls.js","components/Reader/Reader.js","components/App/App.js","index.js","components/reader.module.css"],"names":["Publication","_ref","items","index","react_default","a","createElement","react","className","styles","reader","publication","title","text","defaultProps","Counter","counter","length","Controls","nextIndex","prevIndex","nextButtonIsActive","prevButtonIsActive","controls","onClick","type","disabled","button","Reader","state","_this","props","setState","history","push","Object","objectSpread","location","search","concat","this","prevProps","prevState","_this$state","_this$state2","components_Publication_Publication","components_Counter_Counter","components_Controls_Controls","Component","App","react_router","path","render","Reader_Reader","assign","to","ReactDOM","react_router_dom","basename","components_App_App","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.bee16813.chunk.js","sourcesContent":["import React, { Fragment } from \"react\";\nimport propTypes from \"prop-types\";\nimport styles from \"../reader.module.css\";\n\nconst Publication = ({ items, index }) => (\n  <Fragment>\n    <div className={styles.reader}>\n      <article className={styles.publication}>\n        <h2>{items[index].title}</h2>\n        <p>{items[index].text}</p>\n      </article>\n    </div>\n  </Fragment>\n);\n\nPublication.propTypes = {\n  items: propTypes.arrayOf(propTypes.object),\n  index: propTypes.number\n};\n\nPublication.defaultProps = {\n  items: [],\n  index: 0\n};\n\nexport default Publication;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport styles from '../reader.module.css';\n\nconst Counter = ({ index, items }) => (\n    <p className={styles.counter}>\n        {index + 1} / {items.length}\n    </p>\n);\n\nCounter.propTypes = {\n    items: propTypes.arrayOf(propTypes.object),\n    index: propTypes.number,\n};\n\nCounter.defaultProps = {\n    items: [],\n    index: 0,\n};\n\nexport default Counter;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport styles from '../reader.module.css';\n\nconst Controls = ({\n    nextIndex,\n    prevIndex,\n    nextButtonIsActive,\n    prevButtonIsActive,\n}) => (\n    <section className={styles.controls}>\n        <button\n            onClick={prevIndex}\n            type=\"button\"\n            disabled={prevButtonIsActive}\n            className={styles.button}\n        >\n            Назад\n        </button>\n        <button\n            onClick={nextIndex}\n            type=\"button\"\n            disabled={nextButtonIsActive}\n            className={styles.button}\n        >\n            Вперед\n        </button>\n    </section>\n);\n\nControls.propTypes = {\n    nextIndex: propTypes.func,\n    prevIndex: propTypes.func,\n    nextButtonIsActive: propTypes.bool.isRequired,\n    prevButtonIsActive: propTypes.bool.isRequired,\n};\n\nControls.defaultProps = {\n    nextIndex: () => {},\n    prevIndex: () => {},\n};\n\nexport default Controls;\n","/* eslint-disable react/no-did-update-set-state */\nimport React, { Fragment, Component } from \"react\";\nimport propTypes from \"prop-types\";\nimport Publication from \"../Publication/Publication\";\nimport Counter from \"../Counter/Counter\";\nimport Controls from \"../Controls/Controls\";\n\nexport default class Reader extends Component {\n  static defaultProps = {\n    items: []\n  };\n\n  static propTypes = {\n    items: propTypes.arrayOf(propTypes.object)\n  };\n\n  state = {\n    index: 0,\n    items: this.props.items,\n    prevButtonIsActive: true,\n    nextButtonIsActive: false\n  };\n\n  componentDidMount() {\n    this.props.history.push(\"/reader?item=1\");\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { index, items } = this.state;\n\n    if (prevState.index !== index && index === 1) {\n      this.setState(() => ({ prevButtonIsActive: false }));\n    }\n    if (prevState.index !== index && index === 0) {\n      this.setState(() => ({ prevButtonIsActive: true }));\n    }\n    if (prevState.index !== index && items.length - 1) {\n      this.setState(() => ({ nextButtonIsActive: true }));\n    }\n    if (prevState.index !== index && index < items.length - 1) {\n      this.setState(() => ({ nextButtonIsActive: false }));\n    }\n  }\n\n  nextIndex = () => {\n    this.setState(\n      state =>\n        state.index === state.items.length - 1 || {\n          index: state.index + 1\n        },\n      () =>\n        this.props.history.push({\n          ...this.props.location,\n          search: `item=${this.state.index + 1}`\n        })\n    );\n  };\n\n  prevIndex = () => {\n    this.setState(\n      state => state.index === 0 || { index: state.index - 1 },\n      () =>\n        this.props.history.push({\n          ...this.props.location,\n          search: `item=${this.state.index + 1}`\n        })\n    );\n  };\n\n  render() {\n    const { items } = this.props;\n    const { index, nextButtonIsActive, prevButtonIsActive } = this.state;\n\n    return (\n      <Fragment>\n        <Publication items={items} index={index} />\n        <Counter items={items} index={index} />\n        <Controls\n          nextIndex={this.nextIndex}\n          prevIndex={this.prevIndex}\n          nextButtonIsActive={nextButtonIsActive}\n          prevButtonIsActive={prevButtonIsActive}\n        />\n      </Fragment>\n    );\n  }\n}\n","import React from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport Reader from \"../Reader/Reader\";\n// import NotFound from \"../NotFound/NotFound\";\n\nconst App = ({ items }) => (\n  <Switch>\n    <Route\n      path=\"/reader\"\n      render={props => <Reader {...props} items={items} />}\n    />\n    <Route render={() => <Redirect to=\"/reader\" />} />\n  </Switch>\n);\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter } from \"react-router-dom\";\nimport App from \"./components/App/App\";\nimport items from \"./components/publication.json\";\n\nReactDOM.render(\n\t<HashRouter basename=\"/\">\n\t\t<App items={items} />\n\t</HashRouter>,\n\tdocument.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"reader_reader__52KB9\",\"publication\":\"reader_publication__3VELN\",\"counter\":\"reader_counter__awZcj\",\"controls\":\"reader_controls__1H1Q4\",\"button\":\"reader_button__3nmzQ\"};"],"sourceRoot":""}